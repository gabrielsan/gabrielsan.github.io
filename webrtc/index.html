<!-- 
  // Copyright 2013-2014 Digital Codex LLC 
  // You may use this code for your own education. If you use it 
  // largely intact, or develop something from it, don't claim that 
  // your code came first. You are using this code completely at 
  // your own risk. If you rely on it to work in any particular 
  // way, you're an idiot and we won't be held responsible. -->
<html>
<head>
  <meta http-equiv =" Content-Type" content =" text/ html; charset = UTF-8"/>
  <style>
  video {
    width: 320px;
    height: 240px;
    border: 1px solid black;
  }
  div {
    display: inline-block;
  }
</style>
</head>
<body>
  <script src ="https://webrtc.github.io/adapter/adapter-latest.js" type="text/javascript" ></script>
  <script>
    'use strict';

    var myVideoStream, myVideo; 

    // Put variables in global scope to make them available to the browser console.
    const constraints = window.constraints = {
      audio: false,
      video: true
    };
    
    async function getMedia() {
      try {
        const stream = await navigator.mediaDevices.getUserMedia(constraints);
        myVideoStream = stream;
        const videoElement = document.querySelector('video#localVideo');
        videoElement.srcObject = stream;
        //e.target.disabled = true;
      } catch (e) {
        console.log("couldn't get video" + e); 
      }
    }


    ////////////////////////////
    // This is the main routine.
    ////////////////////////////
    // This kicks off acquisition of local media.
    window.onload = function () {
      myVideo = document.getElementById(" myVideo");
      getMedia();
    };
  </script>
  <div id =" setup">
    <p>WebRTC Book Demo (local media only)</p>
  </div>
  <br/>
  <div style =" width: 30%; vertical-align:top">
    <div>
      <video id="localVideo" autoplay="playsinline" controls="false"/>
    </div>
  </div>
</body>
</html>
